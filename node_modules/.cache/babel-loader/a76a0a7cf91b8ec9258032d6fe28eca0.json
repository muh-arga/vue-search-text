{"remainingRequest":"D:\\Programming\\Project\\Vue\\vue-search-text\\node_modules\\thread-loader\\dist\\cjs.js!D:\\Programming\\Project\\Vue\\vue-search-text\\node_modules\\babel-loader\\lib\\index.js!D:\\Programming\\Project\\Vue\\vue-search-text\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!D:\\Programming\\Project\\Vue\\vue-search-text\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\Programming\\Project\\Vue\\vue-search-text\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\Programming\\Project\\Vue\\vue-search-text\\src\\App.vue?vue&type=template&id=0dc8ec60","dependencies":[{"path":"D:\\Programming\\Project\\Vue\\vue-search-text\\src\\App.vue","mtime":1638708661700},{"path":"D:\\Programming\\Project\\Vue\\vue-search-text\\babel.config.js","mtime":1638703079655},{"path":"D:\\Programming\\Project\\Vue\\vue-search-text\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Programming\\Project\\Vue\\vue-search-text\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Programming\\Project\\Vue\\vue-search-text\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\Programming\\Project\\Vue\\vue-search-text\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":499162500000},{"path":"D:\\Programming\\Project\\Vue\\vue-search-text\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Programming\\Project\\Vue\\vue-search-text\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlQmxvY2sgYXMgX2NyZWF0ZUJsb2NrLCBjcmVhdGVDb21tZW50Vk5vZGUgYXMgX2NyZWF0ZUNvbW1lbnRWTm9kZSwgdlNob3cgYXMgX3ZTaG93LCB3aXRoRGlyZWN0aXZlcyBhcyBfd2l0aERpcmVjdGl2ZXMsIHdpdGhDdHggYXMgX3dpdGhDdHggfSBmcm9tICJ2dWUiOwpleHBvcnQgZnVuY3Rpb24gcmVuZGVyKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIHZhciBfY29tcG9uZW50X0xvZ28gPSBfcmVzb2x2ZUNvbXBvbmVudCgiTG9nbyIpOwoKICB2YXIgX2NvbXBvbmVudF9Gb3JtID0gX3Jlc29sdmVDb21wb25lbnQoIkZvcm0iKTsKCiAgdmFyIF9jb21wb25lbnRfVGV4dExpc3QgPSBfcmVzb2x2ZUNvbXBvbmVudCgiVGV4dExpc3QiKTsKCiAgdmFyIF9jb21wb25lbnRfRmV0Y2hTdGF0dXMgPSBfcmVzb2x2ZUNvbXBvbmVudCgiRmV0Y2hTdGF0dXMiKTsKCiAgdmFyIF9jb21wb25lbnRfUGFnaW5hdGlvbiA9IF9yZXNvbHZlQ29tcG9uZW50KCJQYWdpbmF0aW9uIik7CgogIHZhciBfY29tcG9uZW50X0Jhc2VDb250YWluZXIgPSBfcmVzb2x2ZUNvbXBvbmVudCgiQmFzZUNvbnRhaW5lciIpOwoKICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soX2NvbXBvbmVudF9CYXNlQ29udGFpbmVyLCBudWxsLCB7CiAgICBkZWZhdWx0OiBfd2l0aEN0eChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfTG9nbyksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X0Zvcm0sIHsKICAgICAgICBvblNlYXJjaDogJG9wdGlvbnMuc2VhcmNoSGFuZGxlcgogICAgICB9LCBudWxsLCA4LCBbIm9uU2VhcmNoIl0pLCAhJG9wdGlvbnMubGlzdEVtcHR5ID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKF9jb21wb25lbnRfVGV4dExpc3QsIHsKICAgICAgICBrZXk6IDAsCiAgICAgICAgbGlzdDogJGRhdGEucmVzdWx0cywKICAgICAgICBsb2FkaW5nOiAkZGF0YS5pc0xvYWRpbmcKICAgICAgfSwgbnVsbCwgOCwgWyJsaXN0IiwgImxvYWRpbmciXSkpIDogX2NyZWF0ZUNvbW1lbnRWTm9kZSgiIiwgdHJ1ZSksIF93aXRoRGlyZWN0aXZlcyhfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9GZXRjaFN0YXR1cywgewogICAgICAgIG1lc3NhZ2U6ICRvcHRpb25zLnN0YXR1c01lc3NhZ2UKICAgICAgfSwgbnVsbCwgOCwgWyJtZXNzYWdlIl0pLCBbW192U2hvdywgJG9wdGlvbnMuc2hvd0ZldGNoU3RhdHVzXV0pLCAkZGF0YS5wYWdpbmF0aW9uLmZpcnN0IDwgJGRhdGEucGFnaW5hdGlvbi5sYXN0ID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKF9jb21wb25lbnRfUGFnaW5hdGlvbiwgewogICAgICAgIGtleTogMSwKICAgICAgICBwYWdlOiAkZGF0YS5wYWdpbmF0aW9uLmN1cnJlbnQsCiAgICAgICAgZmlyc3RQYWdlOiAkZGF0YS5wYWdpbmF0aW9uLmZpcnN0LAogICAgICAgIGxhc3RQYWdlOiAkZGF0YS5wYWdpbmF0aW9uLmxhc3QsCiAgICAgICAgb25DaGFuZ2VQYWdlOiAkb3B0aW9ucy5jaGFuZ2VQYWdlSGFuZGxlcgogICAgICB9LCBudWxsLCA4LCBbInBhZ2UiLCAiZmlyc3RQYWdlIiwgImxhc3RQYWdlIiwgIm9uQ2hhbmdlUGFnZSJdKSkgOiBfY3JlYXRlQ29tbWVudFZOb2RlKCIiLCB0cnVlKV07CiAgICB9KSwKICAgIF86IDEKICB9KTsKfQ=="},{"version":3,"sources":["D:\\Programming\\Project\\Vue\\vue-search-text\\src\\App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;uBACE,YAAA,CAYgB,wBAZhB,EAYgB,IAZhB,EAYgB;sBAXd;AAAA,aAAQ,CAAR,YAAA,CAAQ,eAAR,CAAQ,EACR,YAAA,CAAgC,eAAhC,EAAgC;AAAzB,QAAA,QAAM,EAAE,QAAA,CAAA;AAAiB,OAAhC,EAA4B,IAA5B,EAA4B,CAA5B,EAA4B,CAAA,UAAA,CAA5B,CADQ,E,CAES,QAAA,CAAA,S,kBAAjB,YAAA,CAAmE,mBAAnE,EAAmE;cAAA;AAAtC,QAAA,IAAI,EAAE,KAAA,CAAA,OAAgC;AAAtB,QAAA,OAAO,EAAE,KAAA,CAAA;AAAa,OAAnE,E,IAAA,E,CAAA,E,mBAAA,C,iCAFQ,E,gBAGR,YAAA,CAAiE,sBAAjE,EAAiE;AAA1B,QAAA,OAAO,EAAE,QAAA,CAAA;AAAiB,OAAjE,EAA6D,IAA7D,EAA6D,CAA7D,EAA6D,CAAA,SAAA,CAA7D,C,EAA6D,C,SAAxC,QAAA,CAAA,e,CAAwC,C,CAHrD,EAKA,KAAA,CAAA,UAAA,CAAW,KAAX,GAAmB,KAAA,CAAA,UAAA,CAAW,I,kBADtC,YAAA,CAME,qBANF,EAME;cAAA;AAJC,QAAA,IAAI,EAAE,KAAA,CAAA,UAAA,CAAW,OAIlB;AAHC,QAAA,SAAS,EAAE,KAAA,CAAA,UAAA,CAAW,KAGvB;AAFC,QAAA,QAAQ,EAAE,KAAA,CAAA,UAAA,CAAW,IAEtB;AADC,QAAA,YAAU,EAAE,QAAA,CAAA;AACb,OANF,E,IAAA,E,CAAA,E,iDAAA,C,iCAJQ,CAAR;AAAA,K,CAWc;;AAAA,GAZhB,C","sourcesContent":["<template>\r\n  <BaseContainer>\r\n    <Logo />\r\n    <Form @search=\"searchHandler\" />\r\n    <TextList v-if=\"!listEmpty\" :list=\"results\" :loading=\"isLoading\" />\r\n    <FetchStatus v-show=\"showFetchStatus\" :message=\"statusMessage\" />\r\n    <Pagination\r\n      v-if=\"pagination.first < pagination.last\"\r\n      :page=\"pagination.current\"\r\n      :firstPage=\"pagination.first\"\r\n      :lastPage=\"pagination.last\"\r\n      @changePage=\"changePageHandler\"\r\n    />\r\n  </BaseContainer>\r\n</template>\r\n\r\n<script>\r\nimport BaseContainer from \"./components/BaseContainer\";\r\nimport Form from \"./components/Form\";\r\nimport TextList from \"./components/TextList\";\r\nimport FetchStatus from \"./components/FetchStatus\";\r\nimport Pagination from \"./components/Pagination\";\r\nimport Logo from \"./components/Logo\";\r\n\r\nimport getTexts from \"./api/getTexts\";\r\nimport secondToHMS from \"./utils/secondToHMS\";\r\n\r\n\r\nexport default {\r\n  name: \"App\",\r\n  components: {\r\n    BaseContainer,\r\n    Form,\r\n    TextList,\r\n    FetchStatus,\r\n    Pagination,\r\n    Logo,\r\n  },\r\n  data() {\r\n    return {\r\n      results: [],\r\n      isLoading: false,\r\n      notFound: false,\r\n      noText: false,\r\n      url: \"\",\r\n      text: \"\",\r\n      pagination: {\r\n        current: 1,\r\n        first: 1,\r\n        last: 0,\r\n      },\r\n    };\r\n  },\r\n  computed: {\r\n    listEmpty() {\r\n      return this.results.length === 0;\r\n    },\r\n    statusMessage() {\r\n      if (this.isLoading) {\r\n        return \"Loading data\";\r\n      } else if (this.notFound) {\r\n        return \"Video not found\";\r\n      } else if (this.noText) {\r\n        return \"No text found\";\r\n      } else {\r\n        return \"\";\r\n      }\r\n    },\r\n    fetchSuccess() {\r\n      return !this.notFound && !this.noText;\r\n    },\r\n    showFetchStatus() {\r\n      return this.results.length === 0;\r\n    },\r\n  },\r\n  methods: {\r\n    async searchHandler(url, text) {\r\n      this.isLoading = true;\r\n      this.notFound = false;\r\n      this.noText = false;\r\n      this.pagination = {\r\n        current: 1,\r\n        first: 1,\r\n        last: 0,\r\n      };\r\n      this.url = url;\r\n      this.text = text;\r\n      this.results = [];\r\n\r\n      try {\r\n        const response = await getTexts(url, text, this.page);\r\n\r\n        if (response.status === 500) {\r\n          throw new Error(\"Server error!\");\r\n        }\r\n\r\n        if (response.data.data === null) {\r\n          this.notFound = true;\r\n        } else if (response.data.data.length === 0) {\r\n          this.noText = true;\r\n        } else {\r\n          this.results = response.data.data.map((text) => ({\r\n            text: text.text,\r\n            start: secondToHMS(text.start),\r\n            end: secondToHMS(text.end),\r\n          }));\r\n\r\n          const totalItem = response.data.total;\r\n          const totalPage =\r\n            totalItem % 10 === 0\r\n              ? totalItem / 10\r\n              : Math.round(totalItem / 10) + 1;\r\n\r\n          this.pagination = {\r\n            current: 1,\r\n            first: 1,\r\n            last: totalPage,\r\n          };\r\n        }\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n      this.isLoading = false;\r\n    },\r\n    async changePageHandler(newPage) {\r\n      this.isLoading = true;\r\n      this.pagination = {\r\n        ...this.pagination,\r\n        current: newPage,\r\n      };\r\n\r\n      try {\r\n        const response = await getTexts(this.url, this.text, newPage);\r\n\r\n        if (response.status === 500) {\r\n          throw new Error(\"Server error!\");\r\n        }\r\n\r\n        if (response.data.data === null) {\r\n          this.notFound = true;\r\n        } else if (response.data.data.length === 0) {\r\n          this.noText = true;\r\n        } else {\r\n          this.results = response.data.data.map((text) => ({\r\n            text: text.text,\r\n            start: secondToHMS(text.start),\r\n            end: secondToHMS(text.end),\r\n          }));\r\n        }\r\n      } catch (error) {\r\n        console.log(error.message);\r\n      }\r\n      this.isLoading = false;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n@import url(\"https://fonts.googleapis.com/css2?family=Josefin+Sans&family=Roboto&display=swap\");\r\n\r\n* {\r\n  margin: 0;\r\n  padding: 0;\r\n  box-sizing: border-box;\r\n}\r\n\r\n:root {\r\n  --primary-color: #fff;\r\n  --secondary-color: #2ab87d;\r\n  --shadow: rgba(149, 157, 165, 0.2) 0px 8px 24px;\r\n}\r\n\r\n\r\nbody {\r\n  font-family: \"Roboto\", sans-serif;\r\n  background-color: var(--primary-color);\r\n}\r\n\r\n.control {\r\n  display: flex;\r\n}\r\n\r\n.control input {\r\n  flex: 1;\r\n  padding: 0.75rem;\r\n  border: solid 2px transparent;\r\n  outline: none;\r\n}\r\n\r\n.control input.error {\r\n  border-color: red;\r\n}\r\n\r\n.control button {\r\n  padding: 0 1.25rem;\r\n  background-color: var(--secondary-color);\r\n  border: none;\r\n  color: black;\r\n  cursor: pointer;\r\n}\r\n</style>\r\n"],"sourceRoot":""}]}