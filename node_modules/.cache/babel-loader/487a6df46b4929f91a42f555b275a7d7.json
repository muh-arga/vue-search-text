{"remainingRequest":"D:\\Programming\\Project\\Vue\\vue-search-text\\node_modules\\babel-loader\\lib\\index.js!D:\\Programming\\Project\\Vue\\vue-search-text\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!D:\\Programming\\Project\\Vue\\vue-search-text\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\Programming\\Project\\Vue\\vue-search-text\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\Programming\\Project\\Vue\\vue-search-text\\src\\App.vue?vue&type=template&id=7ba5bd90","dependencies":[{"path":"D:\\Programming\\Project\\Vue\\vue-search-text\\src\\App.vue","mtime":1638703079660},{"path":"D:\\Programming\\Project\\Vue\\vue-search-text\\babel.config.js","mtime":1638703079655},{"path":"D:\\Programming\\Project\\Vue\\vue-search-text\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Programming\\Project\\Vue\\vue-search-text\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\Programming\\Project\\Vue\\vue-search-text\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":499162500000},{"path":"D:\\Programming\\Project\\Vue\\vue-search-text\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Programming\\Project\\Vue\\vue-search-text\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlQmxvY2sgYXMgX2NyZWF0ZUJsb2NrLCBjcmVhdGVDb21tZW50Vk5vZGUgYXMgX2NyZWF0ZUNvbW1lbnRWTm9kZSwgdlNob3cgYXMgX3ZTaG93LCB3aXRoRGlyZWN0aXZlcyBhcyBfd2l0aERpcmVjdGl2ZXMsIHdpdGhDdHggYXMgX3dpdGhDdHggfSBmcm9tICJ2dWUiOwpleHBvcnQgZnVuY3Rpb24gcmVuZGVyKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIHZhciBfY29tcG9uZW50X0Zvcm0gPSBfcmVzb2x2ZUNvbXBvbmVudCgiRm9ybSIpOwoKICB2YXIgX2NvbXBvbmVudF9UZXh0TGlzdCA9IF9yZXNvbHZlQ29tcG9uZW50KCJUZXh0TGlzdCIpOwoKICB2YXIgX2NvbXBvbmVudF9GZXRjaFN0YXR1cyA9IF9yZXNvbHZlQ29tcG9uZW50KCJGZXRjaFN0YXR1cyIpOwoKICB2YXIgX2NvbXBvbmVudF9QYWdpbmF0aW9uID0gX3Jlc29sdmVDb21wb25lbnQoIlBhZ2luYXRpb24iKTsKCiAgdmFyIF9jb21wb25lbnRfQmFzZUNvbnRhaW5lciA9IF9yZXNvbHZlQ29tcG9uZW50KCJCYXNlQ29udGFpbmVyIik7CgogIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jayhfY29tcG9uZW50X0Jhc2VDb250YWluZXIsIG51bGwsIHsKICAgIGRlZmF1bHQ6IF93aXRoQ3R4KGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9Gb3JtLCB7CiAgICAgICAgb25TZWFyY2g6ICRvcHRpb25zLnNlYXJjaEhhbmRsZXIKICAgICAgfSwgbnVsbCwgOAogICAgICAvKiBQUk9QUyAqLwogICAgICAsIFsib25TZWFyY2giXSksICEkb3B0aW9ucy5saXN0RW1wdHkgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soX2NvbXBvbmVudF9UZXh0TGlzdCwgewogICAgICAgIGtleTogMCwKICAgICAgICBsaXN0OiAkZGF0YS5yZXN1bHRzLAogICAgICAgIGxvYWRpbmc6ICRkYXRhLmlzTG9hZGluZwogICAgICB9LCBudWxsLCA4CiAgICAgIC8qIFBST1BTICovCiAgICAgICwgWyJsaXN0IiwgImxvYWRpbmciXSkpIDogX2NyZWF0ZUNvbW1lbnRWTm9kZSgidi1pZiIsIHRydWUpLCBfd2l0aERpcmVjdGl2ZXMoX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfRmV0Y2hTdGF0dXMsIHsKICAgICAgICBtZXNzYWdlOiAkb3B0aW9ucy5zdGF0dXNNZXNzYWdlCiAgICAgIH0sIG51bGwsIDgKICAgICAgLyogUFJPUFMgKi8KICAgICAgLCBbIm1lc3NhZ2UiXSksIFtbX3ZTaG93LCAkb3B0aW9ucy5zaG93RmV0Y2hTdGF0dXNdXSksICRkYXRhLnBhZ2luYXRpb24uZmlyc3QgPCAkZGF0YS5wYWdpbmF0aW9uLmxhc3QgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soX2NvbXBvbmVudF9QYWdpbmF0aW9uLCB7CiAgICAgICAga2V5OiAxLAogICAgICAgIHBhZ2U6ICRkYXRhLnBhZ2luYXRpb24uY3VycmVudCwKICAgICAgICBmaXJzdFBhZ2U6ICRkYXRhLnBhZ2luYXRpb24uZmlyc3QsCiAgICAgICAgbGFzdFBhZ2U6ICRkYXRhLnBhZ2luYXRpb24ubGFzdCwKICAgICAgICBvbkNoYW5nZVBhZ2U6ICRvcHRpb25zLmNoYW5nZVBhZ2VIYW5kbGVyCiAgICAgIH0sIG51bGwsIDgKICAgICAgLyogUFJPUFMgKi8KICAgICAgLCBbInBhZ2UiLCAiZmlyc3RQYWdlIiwgImxhc3RQYWdlIiwgIm9uQ2hhbmdlUGFnZSJdKSkgOiBfY3JlYXRlQ29tbWVudFZOb2RlKCJ2LWlmIiwgdHJ1ZSldOwogICAgfSksCiAgICBfOiAxCiAgICAvKiBTVEFCTEUgKi8KCiAgfSk7Cn0="},{"version":3,"sources":["D:\\Programming\\Project\\Vue\\vue-search-text\\src\\App.vue"],"names":[],"mappings":";;;;;;;;;;;;uBACE,YAAA,CAWgB,wBAXhB,EAWgB,IAXhB,EAWgB;sBAVd;AAAA,aAAgC,CAAhC,YAAA,CAAgC,eAAhC,EAAgC;AAAzB,QAAA,QAAM,EAAE,QAAA,CAAA;AAAiB,OAAhC,EAA4B,IAA5B,EAA4B;AAAA;AAA5B,QAA4B,CAAA,UAAA,CAA5B,CAAgC,E,CACf,QAAA,CAAA,S,kBAAjB,YAAA,CAAmE,mBAAnE,EAAmE;cAAA;AAAtC,QAAA,IAAI,EAAE,KAAA,CAAA,OAAgC;AAAtB,QAAA,OAAO,EAAE,KAAA,CAAA;AAAa,OAAnE,E,IAAA,E;;AAAA,Q,mBAAA,C,qCADgC,E,gBAEhC,YAAA,CAAiE,sBAAjE,EAAiE;AAA1B,QAAA,OAAO,EAAE,QAAA,CAAA;AAAiB,OAAjE,EAA6D,IAA7D,EAA6D;AAAA;AAA7D,QAA6D,CAAA,SAAA,CAA7D,C,EAA6D,C,SAAxC,QAAA,CAAA,e,CAAwC,C,CAF7B,EAIxB,KAAA,CAAA,UAAA,CAAW,KAAX,GAAmB,KAAA,CAAA,UAAA,CAAW,I,kBADtC,YAAA,CAME,qBANF,EAME;cAAA;AAJC,QAAA,IAAI,EAAE,KAAA,CAAA,UAAA,CAAW,OAIlB;AAHC,QAAA,SAAS,EAAE,KAAA,CAAA,UAAA,CAAW,KAGvB;AAFC,QAAA,QAAQ,EAAE,KAAA,CAAA,UAAA,CAAW,IAEtB;AADC,QAAA,YAAU,EAAE,QAAA,CAAA;AACb,OANF,E,IAAA,E;;AAAA,Q,iDAAA,C,qCAHgC,CAAhC;AAAA,K,CAUc;;;;AAAA,GAXhB,C","sourcesContent":["<template>\r\n  <BaseContainer>\r\n    <Form @search=\"searchHandler\" />\r\n    <TextList v-if=\"!listEmpty\" :list=\"results\" :loading=\"isLoading\" />\r\n    <FetchStatus v-show=\"showFetchStatus\" :message=\"statusMessage\" />\r\n    <Pagination\r\n      v-if=\"pagination.first < pagination.last\"\r\n      :page=\"pagination.current\"\r\n      :firstPage=\"pagination.first\"\r\n      :lastPage=\"pagination.last\"\r\n      @changePage=\"changePageHandler\"\r\n    />\r\n  </BaseContainer>\r\n</template>\r\n\r\n<script>\r\nimport BaseContainer from \"./components/BaseContainer\";\r\nimport Form from \"./components/Form\";\r\nimport TextList from \"./components/TextList\";\r\nimport FetchStatus from \"./components/FetchStatus\";\r\nimport Pagination from \"./components/Pagination\";\r\n\r\nimport getTexts from \"./api/getTexts\";\r\nimport secondToHMS from \"./utils/secondToHMS\";\r\n\r\nexport default {\r\n  name: \"App\",\r\n  components: {\r\n    BaseContainer,\r\n    Form,\r\n    TextList,\r\n    FetchStatus,\r\n    Pagination,\r\n  },\r\n  data() {\r\n    return {\r\n      results: [],\r\n      isLoading: false,\r\n      notFound: false,\r\n      noText: false,\r\n      url: \"\",\r\n      text: \"\",\r\n      pagination: {\r\n        current: 1,\r\n        first: 1,\r\n        last: 0,\r\n      },\r\n    };\r\n  },\r\n  computed: {\r\n    listEmpty() {\r\n      return this.results.length === 0;\r\n    },\r\n    statusMessage() {\r\n      if (this.isLoading) {\r\n        return \"Fetching data\";\r\n      } else if (this.notFound) {\r\n        return \"Video not found\";\r\n      } else if (this.noText) {\r\n        return \"No text found\";\r\n      } else {\r\n        return \"\";\r\n      }\r\n    },\r\n    fetchSuccess() {\r\n      return !this.notFound && !this.noText;\r\n    },\r\n    showFetchStatus() {\r\n      return this.results.length === 0;\r\n    },\r\n  },\r\n  methods: {\r\n    async searchHandler(url, text) {\r\n      this.isLoading = true;\r\n      this.notFound = false;\r\n      this.noText = false;\r\n      this.pagination = {\r\n        current: 1,\r\n        first: 1,\r\n        last: 0,\r\n      };\r\n      this.url = url;\r\n      this.text = text;\r\n      this.results = [];\r\n\r\n      try {\r\n        const response = await getTexts(url, text, this.page);\r\n\r\n        if (response.status === 500) {\r\n          throw new Error(\"Server error!\");\r\n        }\r\n\r\n        if (response.data.data === null) {\r\n          this.notFound = true;\r\n        } else if (response.data.data.length === 0) {\r\n          this.noText = true;\r\n        } else {\r\n          this.results = response.data.data.map((text) => ({\r\n            text: text.text,\r\n            start: secondToHMS(text.start),\r\n            end: secondToHMS(text.end),\r\n          }));\r\n\r\n          const totalItem = response.data.total;\r\n          const totalPage =\r\n            totalItem % 10 === 0\r\n              ? totalItem / 10\r\n              : Math.round(totalItem / 10) + 1;\r\n\r\n          this.pagination = {\r\n            current: 1,\r\n            first: 1,\r\n            last: totalPage,\r\n          };\r\n        }\r\n      } catch (error) {\r\n        console.log(error.message);\r\n      }\r\n      this.isLoading = false;\r\n    },\r\n    async changePageHandler(newPage) {\r\n      this.isLoading = true;\r\n      this.pagination = {\r\n        ...this.pagination,\r\n        current: newPage,\r\n      };\r\n\r\n      try {\r\n        const response = await getTexts(this.url, this.text, newPage);\r\n\r\n        if (response.status === 500) {\r\n          throw new Error(\"Server error!\");\r\n        }\r\n\r\n        if (response.data.data === null) {\r\n          this.notFound = true;\r\n        } else if (response.data.data.length === 0) {\r\n          this.noText = true;\r\n        } else {\r\n          this.results = response.data.data.map((text) => ({\r\n            text: text.text,\r\n            start: secondToHMS(text.start),\r\n            end: secondToHMS(text.end),\r\n          }));\r\n        }\r\n      } catch (error) {\r\n        console.log(error.message);\r\n      }\r\n      this.isLoading = false;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n@import url(\"https://fonts.googleapis.com/css2?family=Recursive:wght@300;400;500;600;700;800;900&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap\");\r\n\r\n* {\r\n  margin: 0;\r\n  padding: 0;\r\n  box-sizing: border-box;\r\n}\r\n\r\n:root {\r\n  --primary-color: #4069ff;\r\n  --secondary-color: #ffc934;\r\n  --shadow: 1px 2px 5px rgba(0, 0, 0, 0.5);\r\n}\r\n\r\nbody {\r\n  font-family: \"Recursive\", sans-serif;\r\n  background-color: var(--primary-color);\r\n}\r\n\r\n.control {\r\n  display: flex;\r\n}\r\n\r\n.control input {\r\n  flex: 1;\r\n  padding: 0.75rem;\r\n  border: solid 2px transparent;\r\n  outline: none;\r\n}\r\n\r\n.control input.error {\r\n  border-color: red;\r\n}\r\n\r\n.control button {\r\n  padding: 0 1.25rem;\r\n  background-color: var(--secondary-color);\r\n  border: none;\r\n  color: black;\r\n  cursor: pointer;\r\n}\r\n</style>\r\n"],"sourceRoot":""}]}